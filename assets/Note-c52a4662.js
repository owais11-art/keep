import{_ as S,o as l,c as n,e,j as i,p as I,l as $,m as j,u as F,n as R,q as T,h as _,t as p,s as f,d as k,F as v,r as M,x as q,b as c,y as H,z as O,f as U}from"./index-bfccbb96.js";const G="/keep/assets/archiveIt-3347e461.svg",J="/keep/assets/unarchiveIt-c01a304c.svg",K="/keep/assets/menu-20165a4f.svg",Q="/keep/assets/color-93610167.svg",W="/keep/assets/restore-a3f91c76.svg",X="/keep/assets/cancel-96247103.svg";const x=t=>(I("data-v-feb4009c"),t=t(),$(),t),Y=["onClick"],Z=x(()=>e("h5",null,"Do you want to delete this note?",-1)),ee=x(()=>e("button",null,"Cancel",-1)),te=[ee],oe=x(()=>e("button",null,"Confirm",-1)),se=[oe],le={__name:"DeleteModal",emits:["deleteNote","toggleDeleteModal"],setup(t,{emit:d}){const y=()=>d("deleteNote"),m=()=>d("toggleDeleteModal");return(g,r)=>(l(),n("div",{class:"overlay",onClick:i(m,["self"])},[e("div",{class:"modal"},[Z,e("div",{class:"buttons"},[e("div",{class:"cancel",onClick:m},te),e("div",{class:"confirm",onClick:y},se)])])],8,Y))}},ne=S(le,[["__scopeId","data-v-feb4009c"]]);const h=t=>(I("data-v-4bafe0c4"),t=t(),$(),t),ae={class:"title"},ie={class:"content"},ce=h(()=>e("path",{d:"M0 0h24v24H0z",fill:"none",stroke:"none"},null,-1)),de=h(()=>e("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"},null,-1)),re=h(()=>e("line",{x1:"12",x2:"12",y1:"16",y2:"21"},null,-1)),ue=h(()=>e("line",{x1:"8",x2:"16",y1:"4",y2:"4"},null,-1)),ve=[ce,de,re,ue],ge={key:1,class:"labels"},_e=["onClick"],ke=["src"],he={class:"options"},me=["src"],be=["src"],pe=["src"],ye=["src"],Ce=["onClick"],fe=["src"],Me={key:0,class:"color-pallette"},xe=["id","onClick"],Ne=["onClick"],we=["src"],De=h(()=>e("ul",{class:"menu-list"},[e("li",null,"Delete"),e("li",null,"Add Label"),e("li",null,"Make Copy")],-1)),Se={class:"label-list"},Ie={__name:"Note",props:["note","page"],setup(t){j(a=>({"49ddfc65":t.note.background}));const d=F(),y=R(),m=T(),g=_(!1),r=_(!1),C=_(!1),b=_(!1),B=_([{id:Math.random()*1e11,color:"transparent",rgb:"transparent"},{id:Math.random()*1e11,color:"red",rgb:"rgba(255, 0, 0, 0.5)"},{id:Math.random()*1e11,color:"green",rgb:"rgba(0, 255, 0, 0.5)"},{id:Math.random()*1e11,color:"blue",rgb:"rgba(0, 0, 255, 0.5)"},{id:Math.random()*1e11,color:"purple",rgb:"rgb(160, 32, 240, 0.5)"}]),u=(a,o)=>{d.updateNote({type:a,payload:{id:o}})},L=a=>{m.push("/keep/edit_note/"+a)},N=()=>{b.value&&D(),g.value=!g.value,r.value=!r.value},P=(a,o)=>{switch(a.target.textContent.trim()){case"Delete":u("move_to_bin",o);break;case"Make Copy":u("make_copy",o);break;case"Add Label":a.target.parentElement.style.display="none",a.target.parentElement.nextElementSibling.style.display="block";break;default:return}},V=(a,o)=>{const s=a.target.textContent.trim();d.updateNote({type:"add_label",payload:{id:o,label:s}})},z=(a,o)=>{d.updateNote({type:"remove_label",payload:{id:o,label:a}})},w=()=>{C.value=!C.value};function D(){g.value&&N(),b.value=!b.value,r.value=!r.value}function A(a,o){const s={id:o,newValues:{background:a}};d.updateNote({type:"edit_note",payload:s})}return(a,o)=>(l(),n(v,null,[e("div",{class:f(["note",{selected:r.value}]),onClick:o[6]||(o[6]=()=>L(t.note.id))},[e("div",ae,p(t.note.title),1),e("div",ie,p(t.note.content),1),t.page?k("",!0):(l(),n("div",{key:0,class:"pin",onClick:o[0]||(o[0]=i(()=>u("toggle_pin",t.note.id),["stop"])),title:"Pin note"},[(l(),n("svg",{class:f(["icon",{pinned:t.note.isPinned}]),fill:"none",height:"24",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},ve,2))])),t.note.labels.length?(l(),n("div",ge,[(l(!0),n(v,null,M(t.note.labels,s=>(l(),n("div",{class:"label",key:s},[q(p(s)+" ",1),e("div",{class:"cancel",onClick:i(()=>z(s,t.note.id),["stop"])},[e("img",{src:c(X),alt:"cancel-icon"},null,8,ke)],8,_e)]))),128))])):k("",!0),e("div",he,[t.page==="bin"?(l(),n(v,{key:0},[e("div",{class:"delete",onClick:o[1]||(o[1]=i(()=>w(),["stop"]))},[e("img",{src:c(H),alt:"delete=permanently",title:"Delete Permanently"},null,8,me)]),e("div",{class:"restore",onClick:o[2]||(o[2]=i(()=>u("remove_from_bin",t.note.id),["stop"]))},[e("img",{src:c(W),alt:"restore",title:"Restore"},null,8,be)])],64)):(l(),n(v,{key:1},[e("div",{class:"archive",onClick:o[3]||(o[3]=i(()=>u("toggle_archive",t.note.id),["stop"]))},[t.note.isArchived?(l(),n("img",{key:1,src:c(J),alt:"unarchive-it",title:"Unarchive"},null,8,ye)):(l(),n("img",{key:0,src:c(G),alt:"archive-it",title:"Archive"},null,8,pe))]),e("div",{class:"colors",onClick:i(D,["stop"])},[e("img",{src:c(Q),alt:"color-pallette-icon",title:"Background Options"},null,8,fe),b.value?(l(),n("div",Me,[(l(!0),n(v,null,M(B.value,s=>(l(),n("div",{class:f(["color",{active:s.rgb===t.note.background}]),key:s.id,style:O({backgroundColor:s.rgb}),id:s.color,onClick:i(()=>A(s.rgb,t.note.id),["stop"])},null,14,xe))),128))])):k("",!0)],8,Ce),e("div",{class:"menu",onClick:i(N,["stop"])},[e("img",{src:c(K),alt:"menu",title:"More"},null,8,we),g.value?(l(),n("div",{key:0,class:"menu-tooltip",onClick:o[5]||(o[5]=i(s=>P(s,t.note.id),["stop"]))},[De,e("ul",Se,[(l(!0),n(v,null,M(c(y).labels,s=>(l(),n("li",{key:s.id,onClick:o[4]||(o[4]=E=>V(E,t.note.id))},p(s.name),1))),128))])])):k("",!0)],8,Ne)],64))])],2),C.value?(l(),U(ne,{key:0,onDeleteNote:o[7]||(o[7]=()=>u("delete_note",t.note.id)),onToggleDeleteModal:w})):k("",!0)],64))}},Be=S(Ie,[["__scopeId","data-v-4bafe0c4"]]);export{Be as N};
